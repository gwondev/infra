services:
  # ğŸŒ Caddy (ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ & ì •ì  í˜ì´ì§€ ì„œë²„)
  caddy:
    image: caddy:alpine
    container_name: infra-caddy
    restart: unless-stopped
    volumes:
      - ./Caddyfile:/etc/caddy/Caddyfile:ro
      - caddy_data:/data
      - caddy_config:/config

  # ğŸ’¬ Mosquitto (MQTT ë¸Œë¡œì»¤)
  mosquitto:
    image: eclipse-mosquitto:2
    container_name: infra-mosquitto
    restart: unless-stopped
    volumes:
      - ./mosquitto/config:/mosquitto/config
      - mosquitto_data:/mosquitto/data

# ğŸ“¦ ë°ì´í„° ìœ ì§€ìš© ë³¼ë¥¨
volumes:
  caddy_data:
  caddy_config:
  mosquitto_data:

# ğŸŒ ê¸€ë¡œë²Œ ë„¤íŠ¸ì›Œí¬ (ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì™€ ê³µìœ )
networks:
  default:
    external: true
